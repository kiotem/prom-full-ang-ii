<div id="property-create-component" class="modal-overlay" style="display: none;">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">
                <i class="fas fa-home"></i>
                Crear Nueva Propiedad
            </h2>
            <button class="modal-close" (click)="onCancel()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <form [formGroup]="propertyForm" class="modal-form" autocomplete="off">
            <div class="form-grid">
                <!-- Property Type -->
                <div class="form-group full-width">
                    <label for="i_propertyType" class="form-label">
                        <i class="fas fa-tag"></i>
                        Tipo de Propiedad
                    </label>
                    <select 
                        id="i_propertyType" 
                        name="i_propertyType" 
                        formControlName="propertyType" 
                        class="form-select">
                        @if(currentProject != undefined) {
                            @for(type of currentProject.propertyTypes; track $index) {
                                <option value="{{type}}">{{type}}</option>  
                            }
                        }
                    </select>
                </div>

                <!-- Group and Number Row -->
                <div class="form-group">
                    <label for="i_propertiesGroup" class="form-label">
                        <i class="fas fa-layer-group"></i>
                        Grupo o Manzana *
                    </label>
                    <select 
                        id="i_propertiesGroup" 
                        name="i_propertiesGroup" 
                        required 
                        formControlName="propertiesGroup" 
                        class="form-select">
                        @if(currentProject != undefined) {
                            @for(group of currentProject.propertiesGroup; track $index) {
                                <option value="{{group}}">{{group}}</option>
                            }
                        }
                    </select>
                </div>

                <div class="form-group">
                    <label for="i_number" class="form-label">
                        <i class="fas fa-hashtag"></i>
                        Número *
                    </label>
                    <input 
                        type="number" 
                        id="i_number" 
                        name="i_number" 
                        class="form-input" 
                        required 
                        formControlName="number"
                        placeholder="Ej: 15">
                </div>

                <!-- Dimensions Row -->
                <div class="form-group">
                    <label for="i_width" class="form-label">
                        <i class="fas fa-arrows-alt-h"></i>
                        Ancho (m) *
                    </label>
                    <input 
                        type="number" 
                        id="i_width" 
                        name="i_width" 
                        required 
                        class="form-input" 
                        (keyup)="onKeyup($event)" 
                        formControlName="width"
                        placeholder="0.00"
                        step="0.01">
                </div>

                <div class="form-group">
                    <label for="i_depth" class="form-label">
                        <i class="fas fa-arrows-alt-v"></i>
                        Profundidad (m) *
                    </label>
                    <input 
                        type="number" 
                        id="i_depth" 
                        name="i_depth" 
                        required 
                        class="form-input" 
                        (keyup)="onKeyup($event)" 
                        formControlName="depth"
                        placeholder="0.00"
                        step="0.01">
                </div>

                <!-- Area -->
                <div class="form-group full-width">
                    <label for="i_totalArea" class="form-label">
                        <i class="fas fa-expand-arrows-alt"></i>
                        Área Total (m²) *
                    </label>
                    <input 
                        type="number" 
                        id="i_totalArea" 
                        name="i_totalArea" 
                        required 
                        class="form-input area-input" 
                        formControlName="area"
                        placeholder="0.00"
                        step="0.01"
                        readonly>
                    <small class="area-note">Se calcula automáticamente: Ancho × Profundidad</small>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="modal-actions">
                <button type="button" class="btn-cancel" (click)="onCancel()">
                    <i class="fas fa-times"></i>
                    Cancelar
                </button>
                <button type="button" class="btn-save" (click)="onSubmit()">
                    <i class="fas fa-save"></i>
                    Guardar Propiedad
                </button>
            </div>
        </form>
    </div>
</div>
